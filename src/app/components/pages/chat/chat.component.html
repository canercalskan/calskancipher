<div class="wrapper">
    <div class="container">
        <chat-navbar></chat-navbar>
        <div class="content">
            <div class="active-users-sidebar">
                <active-users></active-users>
            </div>
            <div class="overflow-scroll" id="chat-session">

                <div class="session-navbar text-white">
                    <span><i class="bi bi-person fs-4" style="border:1px solid #EC6600; border-radius: 15rem; padding: .5rem; color: #EC6600;"></i></span>
                    <span class="ms-3" *ngIf="displaySession">{{displaySession.endUser.username}}</span>
                    <i class="bi bi-three-dots float-end text-white fs-5" id="session-actions"></i>
                </div>

                <ul class="chat-field text-white" *ngIf="displaySession && displaySession.conversation">
                    <li class="d-flex" *ngFor="let message of displaySession.conversation">
                        <span [ngClass]= "{'first-user' : message.sender.uid === currentUserUid , 'end-user' : message.sender.uid != currentUserUid}">
                            {{message.content}}
                        </span>
                    </li>
                </ul>

                <form #messageForm = 'ngForm' id="text-input" (submit) = 'sendMessage(messageForm.value); messageForm.resetForm()' ngForm ngNativeValidate>
                    <input type="text" name="content" id="content" placeholder="Type a message..." ngModel required> 
                    <button type="submit">
                        <i class="bi bi-send d-inline"></i>
                    </button>
                </form>
                
            </div>
        </div>
    </div>
</div>